# Server
PORT=3000                      # Gateway listen port
PUBLIC_BASE_URL=https://chat.yourdomain.com  # Public URL browsers should use

# CORS
CORS_ALLOWED_ORIGINS=https://example.com,https://app.example.com  # Comma-separated origins

# Database (gateway)
DB_HOST=mysql                  # Use mysql service in docker, or host/IP for remote DB
DB_PORT=3306
DB_NAME=webchat_bridge
DB_USER=webchat_bridge
DB_PASS=change_me_db

# MariaDB container (used by docker-compose)
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_DATABASE=webchat_bridge
MYSQL_USER=webchat_bridge
MYSQL_PASSWORD=change_me_db
MYSQL_ROOT_PASSWORD=change_me_root

# Discord
DISCORD_BOT_TOKEN=YOUR_DISCORD_BOT_TOKEN
DISCORD_GUILD_ID=YOUR_GUILD_ID
DISCORD_SUPPORT_CHANNEL_IDS=YOUR_SUPPORT_CHANNEL_ID_1,YOUR_SUPPORT_CHANNEL_ID_2
DISCORD_THREAD_TYPE=public      # public|private

# Widget security
WIDGET_HMAC_SECRET=replace_with_long_random_string  # Used for signed client tokens
WIDGET_TOKEN_MAX_AGE_SECONDS=300                     # Token max age (seconds)

# Admin API (for WordPress dashboard)
ADMIN_API_KEY=replace_with_long_random_string         # Generate with: openssl rand -hex 32

# Tracking & GeoIP
TRACKING_RETENTION_DAYS=30      # 0 = keep forever
GEOIP_PROVIDER=ipapi            # ipapi|ipinfo
GEOIP_API_KEY=                  # Provider key if required

# Email notifications
EMAIL_ENABLED=false
EMAIL_PROVIDER=smtp             # smtp|sendgrid|gmail
EMAIL_NOTIFY_TO=support@yourdomain.com
EMAIL_FROM=Live Chat <support@yourdomain.com>
SMTP_HOST=
SMTP_PORT=25
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Logging
DEBUG=false
LOG_LEVEL=info                  # debug|info|warn|error

# Ticket escalation (email)
TICKET_ALWAYS=true              # true = always open a ticket
TICKET_CONTACT_PROMPT_MINUTES=180 # min minutes between contact prompts
TICKET_CONTACT_PROMPT_ONCE=false # set true to only prompt once per session
